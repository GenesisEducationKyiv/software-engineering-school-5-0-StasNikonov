name: CI Tests

on: [push, pull_request]

jobs:
  unit_tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Run Unit Tests
        run: docker-compose --env-file .env.test -f docker-compose.test.yml run --rm test_runner npm run test:unit

  integration_tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Run Integration Tests
        run: docker-compose --env-file .env.test -f docker-compose.test.yml run --rm test_runner npm run test:integration

  e2e_tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Run E2E Tests
        run: docker-compose --env-file .env.test -f docker-compose.test.yml run --rm playwright_runner npm run test:e2e
